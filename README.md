# ğŸ“… Calendar Wallpaper Generator

A Python application that generates calendar images with your events and optionally sets them as your desktop wallpaper. Comes with both a **command-line interface** and a **graphical user interface (GUI)** for easy event management.

GUI

<img src="assets/screenshot_gui.png" alt="Calendar Wallpaper GUI" width="300"/>

---

Desktop with Calendar Wallpaper

<img src="assets/screenshot_desktop.png" alt="Desktop" width="360"/>



---

## âœ¨ Features

- **Dual Interface**: Use the CLI for quick generation or the GUI for intuitive event management.
- **Event Support**: Add time-specific or all-day events via SQLite database
- **Customizable Styling**: Configure colors, fonts, image dimensions, and more via `config.py`.
- **Wallpaper Integration**: Automatically set the generated calendar as your desktop background.
- **Current Day Highlight**: Todayâ€™s date is visually highlighted on the calendar.
- **Responsive Layout**: Events are automatically wrapped to fit within day cells.
- **Cross-Plataform**: Linux, macOS, and Windows.

---

## ğŸ“¦ Requirements

- Python
- Required packages:
  - `Pillow` (for image generation)
  - `tkcalendar` (for GUI date picker)
  - `ttkthemes` (for modern GUI styling)

Install dependencies with:

[Astral uv](https://github.com/astral-sh/uv)
```bash
uv install
```

or

```bash
pip install pillow, tkcalendar, ttkthemes
```

---

## ğŸ—‚ï¸ Project Structure

```
wallpaper_manager/                        # Root directory of the project
â”‚
â”œâ”€â”€ assets/                               # Folder for assets like images or README assets
â”‚   â””â”€â”€ (image files, etc.)                # Any asset-related files
â”‚
â”œâ”€â”€ cli/                                  # CLI-related scripts
â”‚   â”œâ”€â”€ __init__.py                       # Makes this folder a package
â”‚   â””â”€â”€ cli.py                            # Main CLI script
â”‚
â”œâ”€â”€ config/                               # Configuration settings for the app
â”‚   â””â”€â”€ config.py                         # App configuration settings (e.g., logging, paths)
â”‚
â”œâ”€â”€ db/                                   # Database-related files
â”‚   â””â”€â”€ events.sqlite3                    # SQLite database for storing events
â”‚
â”œâ”€â”€ fonts/                                # Folder for font files used by the app
â”‚   â””â”€â”€ (font files)                      # Font files used in calendar generation
â”‚
â”œâ”€â”€ gui/                                  # GUI-related scripts
â”‚   â”œâ”€â”€ __init__.py                       # Makes this folder a package
â”‚   â””â”€â”€ gui.py                            # Main GUI script
â”‚
â”œâ”€â”€ models/                               # Core logic and models
â”‚   â”œâ”€â”€ calendar_image_gen.py             # Contains logic for generating calendar images
â”‚   â””â”€â”€ common.py                         # Shared functions and classes used by both CLI and GUI
â”‚
â”œâ”€â”€ output/                               # Output directory for logs, images, and generated content
â”‚   â”œâ”€â”€ app.log                           # Log file generated by the app (e.g., logger outputs)
â”‚   â””â”€â”€ calendar.png                      # Generated calendar image (output from the app)
â”‚
â”œâ”€â”€ utils/                                # Utility functions or helpers
â”‚   â”œâ”€â”€ logger.py                         # Logging setup and functions for the app
â”‚   â””â”€â”€ shared_utils.py                   # Other shared utilities (e.g., date or file handling)
â”‚
â”œâ”€â”€ .gitignore                            # Specifies files and directories to be ignored by Git
â”œâ”€â”€ .python-version                       # File specifying the Python version for uv
â”œâ”€â”€ pyproject.toml                        # uv project configuration file
â”œâ”€â”€ README.md                             # Project documentation (what the project does, how to use it)
â”œâ”€â”€ run_cli.bat                           # Batch script to activate virtual environment and run CLI
â”œâ”€â”€ run_gui.bat                           # Batch script to activate virtual environment and run GUI
â””â”€â”€ uv.lock                               # uv project lock file (used for project environment management)

```
 
---

## âš™ï¸ Configuration (`config.py`)

Customize your calendar by editing `config.py`:
- `IMG_WIDTH`: Wallpaper image width
- `IMG_HEIGHT`: Wallpaper image height
- `CALENDAR_MIN_NUM_ROWS`: The minimum number of rows in the calendar. With 6 rows, you can also display a preview of a few events from the next month.
- `BACKGROUND_COLOR`: Hex code or RGB tuple for background
- `GRID_COLOR`: Calendar grid color
- `TEXT_COLOR`: General color for Month's Title, Day of Week and Day's Digit color
- `EVENT_COLOR`: Color for list of events
- `TODAY_EVENT_COLOR`, `TODAY_CELL_BG_COLOR`: Colors when cell is the current day
- `IMG_WIDTH`, `IMG_HEIGHT`: Output image resolution
- `FONT_FILE`: Path to `.ttf` font (falls back to default if missing)
- `WALLPAPER_FILE`: Output path for generated image
- `EVENTS_DB_FILE`: SQLite database path

> âš ï¸ Colors can be hexa `"#2e2e2e"` values or RGB in tuple `(46,46,46)`

> ğŸ’¡ **Tip**: Use dark backgrounds with light text for better readability as a wallpaper!
---

## ğŸ–¥ï¸ Command-Line Usage

Generate a calendar for the current month (image stored in `output/` folder):

```bash
python -m cli.cli
```

Generate a calendar image and set it as desktop wallpaper:
```bash
python -m cli.cli --wallpaper
```

### Options

| Flag | Description | Example |
|------|-------------|---------|
| `--year`,`-y` | Specify year | `--year 2025` |
| `--month`,`-m` | Specify month (1â€“12) | `--month 12` |
| `--start-of-week`,`-sw` | First day: `sun` (default) or `mon` | `--start-of-week mon` |
| `--wallpaper`,`-w` | Set output as desktop wallpaper | `--wallpaper` |
| `--database`,`-d` | Custom SQLite path | `--db my_events.db` |

**Example**:  
```bash
python -m cli.cli --year 2024 --month 12 --start-of-week mon --wallpaper --database events.db
```

---

## ğŸ–±ï¸ Graphical User Interface

Launch the GUI to manage events visually:

```bash
python -m gui.gui
```

### GUI Features:
- Add, edit, or delete events with date/time picker
- Toggle "Full Day Event" (sets time to `00:00`)
- Real-time event list with sorting
- One-click "Publish Calendar Image" (with wallpaper option)
- Refresh to sync with database

> âœ… The GUI automatically initializes the SQLite database on first run.

---

## ğŸ“ Event Formats

### SQLite Database
Table schema:
```sql
CREATE TABLE events (
    id INTEGER PRIMARY KEY,
    title TEXT NOT NULL,
    event_datetime TEXT NOT NULL  -- Format: "YYYY-MM-DD HH:MM"
);
```

> âš ï¸ Events with `00:00` time are displayed without a timestamp (all-day events).


---

## Automation

Example use Task Scheduler to execute `.bat` script to generate and set the calendar wallpaper on user login.

Included `run_cli.bat` to execute the python script using virtual enviroment `.venv/` that can be used with Task Scheduler.

---

## ğŸ“œ License

## Roboto Font

The Roboto font is copyrighted by Google and licensed under the Open Font License, [OFL License v1.1](https://openfontlicense.org/documents/OFL.txt).